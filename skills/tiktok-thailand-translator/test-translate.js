#!/usr/bin/env node

/**
 * æµ‹è¯•è„šæœ¬ï¼šéªŒè¯æ··åˆç¿»è¯‘åŠŸèƒ½
 */

// å¯¼å…¥ç¿»è¯‘å‡½æ•°ï¼ˆç®€åŒ–ç‰ˆï¼Œç›´æ¥å¤åˆ¶æ ¸å¿ƒé€»è¾‘ï¼‰
const THAI_KEYWORD_MAP = {
  "åˆ’ç®—": "à¸„à¸¸à¹‰à¸¡",
  "è¶…å€¼": "à¸„à¸¸à¹‰à¸¡à¸ªà¸¸à¸”",
  "å¾ˆåˆ’ç®—": "à¸„à¸¸à¹‰à¸¡à¸¡à¸²à¸",
  "ä¹°ä¸€é€ä¸€": "1à¹à¸–à¸¡1",
  "ç‰¹ä»·": "à¸£à¸²à¸„à¸²à¸à¸´à¹€à¸¨à¸©",
  "é™æ—¶ä¼˜æƒ ": "à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™",
  "é—ªè´­": "Flash Sale",
  "ç§’æ€": "Seckill",
  "æ¸…ä»“": "à¸¥à¹‰à¸²à¸‡à¸ªà¸•à¹‡à¸­à¸",
  "åŒ…é‚®": "à¸ªà¹ˆà¸‡à¸Ÿà¸£à¸µ",
  "æ­£å“": "à¸‚à¸­à¸‡à¹à¸—à¹‰",
  "å’Œå›¾ä¸€è‡´": "à¸•à¸£à¸‡à¸›à¸",
  "å‘è´§å¿«": "à¸ªà¹ˆà¸‡à¹„à¸§",
  "å“è´¨ä¿è¯": "à¸£à¸±à¸šà¸›à¸£à¸°à¸à¸±à¸™à¸„à¸¸à¸“à¸ à¸²à¸",
  "ä¸ƒå¤©æ— ç†ç”±é€€è´§": "à¸„à¸·à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²à¹„à¸”à¹‰ 7 à¸§à¸±à¸™",
  "å”®åæœ‰ä¿éšœ": "à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸¥à¸±à¸‡à¸à¸²à¸£à¸‚à¸²à¸¢",
  "å‡ä¸€èµ”å": "à¸›à¸¥à¸­à¸¡à¹€à¸ªà¸µà¸¢à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸„à¸·à¸™ 10 à¹€à¸—à¹ˆà¸²",
  "é“¾æ¥åœ¨è´­ç‰©ç¯®": "à¸à¸´à¸à¸±à¸”à¹ƒà¸™à¸•à¸°à¸à¸£à¹‰à¸²",
  "ç‚¹è´­ç‰©ç¯®": "à¸à¸”à¸•à¸°à¸à¸£à¹‰à¸²",
  "ç‚¹è¿™ä¸ªç¯®å­": "à¸à¸”à¸•à¸°à¸à¸£à¹‰à¸²à¸™à¸µà¹‰",
  "è¿™ä¸€ä¸ªç¯®å­": "à¸•à¸°à¸à¸£à¹‰à¸²à¸™à¸µà¹‰",
  "ä¸»é¡µè´­ç‰©ç¯®": "à¸•à¸°à¸à¸£à¹‰à¸²à¸«à¸™à¹‰à¸²à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ",
  "ç«‹å³è´­ä¹°": "à¸‹à¸·à¹‰à¸­à¹€à¸¥à¸¢",
  "ç‚¹å‡»é“¾æ¥": "à¸„à¸¥à¸´à¸à¸¥à¸´à¸‡à¸„à¹Œ",
  "ç«‹å³æŠ¢è´­": "à¸£à¸µà¸šà¸‹à¸·à¹‰à¸­à¹€à¸¥à¸¢",
  "åº“å­˜æœ‰é™": "à¸ªà¸•à¹‡à¸­à¸à¸ˆà¸³à¸à¸±à¸”",
  "æ‰‹æ…¢æ— ": "à¸«à¸¡à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸§",
  "æŠ¢å®Œ": "à¸‚à¸²à¸¢à¸«à¸¡à¸”à¹à¸¥à¹‰à¸§",
  "å¾ˆç‰¢": "à¸•à¸´à¸”à¹à¸™à¹ˆà¸™",
  "å¸å¾—ç´§": "à¸•à¸´à¸”à¹à¸™à¹ˆà¸™",
  "ç£æ€§": "à¹à¸¡à¹ˆà¹€à¸«à¸¥à¹‡à¸",
  "æ— çº¿": "à¹„à¸£à¹‰à¸ªà¸²à¸¢",
  "å¯æ—‹è½¬": "à¸«à¸¡à¸¸à¸™à¹„à¸”à¹‰",
  "é˜²æ°´": "à¸à¸±à¸™à¸™à¹‰à¸³",
  "é˜²åˆ®": "Anti-Gores",
  "å¯æŠ˜å ": "à¸à¸±à¸šà¹„à¸”à¹‰",
  "ä¾¿æº": "à¸à¸à¸à¸²à¸‡à¹ˆà¸²à¸¢",
  "è½»é‡": "à¹€à¸šà¸²",
  "è€ç”¨": "à¸—à¸™à¸—à¸²à¸™",
  "é€æ°”": "à¸£à¸°à¸šà¸²à¸¢à¸­à¸²à¸à¸²à¸¨",
  "æŸ”è½¯": "à¸™à¸´à¹ˆà¸¡",
  "èˆ’é€‚": "à¸ªà¸šà¸²à¸¢",
  "ç®€çº¦": "à¹€à¸£à¸µà¸¢à¸šà¸‡à¹ˆà¸²à¸¢",
  "æ—¶å°š": "à¹à¸Ÿà¸Šà¸±à¹ˆà¸™",
  "æ½®æµ": "à¸—à¸£à¸™à¸”à¹Œ",
  "æ˜¾ç˜¦": "à¸—à¸³à¹ƒà¸«à¹‰à¸”à¸¹à¸œà¸­à¸¡à¸¥à¸‡",
  "æ˜¾é«˜": "à¸—à¸³à¹ƒà¸«à¹‰à¸”à¸¹à¸ªà¸¹à¸‡",
  "æ˜¾ç™½": "à¸—à¸³à¹ƒà¸«à¹‰à¸œà¸´à¸§à¸‚à¸²à¸§",
  "è¡¥æ°´": "à¸šà¸³à¸£à¸¸à¸‡à¸„à¸§à¸²à¸¡à¸Šà¸·à¹‰à¸™",
  "æ§æ²¹": "à¸„à¸§à¸šà¸„à¸§à¸²à¸¡à¸¡à¸±à¸™",
  "ç¾ç™½": "à¸¥à¸”à¸£à¸­à¸¢à¸”à¸³",
  "æŠ—è¡°è€": "à¸•à¹‰à¸²à¸™à¸­à¸²à¸à¸²à¸£à¸Šà¸£à¸²à¸à¸²à¸§",
  "ç¥›ç—˜": "à¸£à¸±à¸à¸©à¸²à¸ªà¸´à¸§à¸­à¸¸à¸”",
  "æŸ”é¡º": "à¸™à¸´à¹ˆà¸¡à¸™à¸¸à¹ˆà¸¡",
  "æ¸…çˆ½": "à¸ªà¸”à¸Šà¸·à¹ˆà¸­",
  "å¥³è£…": "à¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸²à¹à¸Ÿà¸Šà¸±à¹ˆà¸™",
  "ç”·è£…": "à¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸²à¸Šà¸²à¸¢",
  "ç«¥è£…": "à¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸²à¹€à¸”à¹‡à¸",
  "é‹é´": "à¸£à¸­à¸‡à¹€à¸—à¹‰à¸²",
  "ç¾å¦†": "à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸ªà¸³à¸­à¸²à¸‡",
  "æŠ¤è‚¤": "à¸‚à¸­à¸‡à¸šà¸³à¸£à¸¸à¸‡à¸œà¸´à¸§",
  "3Cæ•°ç ": "à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸­à¸´à¹€à¸¥à¹‡à¸à¸—à¸£à¸­à¸™à¸´à¸à¸ªà¹Œ",
  "æ‰‹æœºé…ä»¶": "à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­",
  "é£Ÿå“": "à¸­à¸²à¸«à¸²à¸£",
  "é›¶é£Ÿ": "à¸‚à¸™à¸¡",
  "å®¶å±…": "à¸‚à¸­à¸‡à¹ƒà¸Šà¹‰à¹ƒà¸™à¸šà¹‰à¸²à¸™",
  "å® ç‰©ç”¨å“": "à¸‚à¸­à¸‡à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸±à¸•à¸§à¹Œà¹€à¸¥à¸µà¹‰à¸¢à¸‡",
  "æ¯å©´": "à¸‚à¸­à¸‡à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸¡à¹ˆà¹à¸¥à¸°à¹€à¸”à¹‡à¸",
  "æ—¥å¸¸": "à¹ƒà¸Šà¹‰à¸Šà¸µà¸§à¸´à¸•à¸›à¸£à¸ˆà¸§à¸±à¸™",
  "å·¥ä½œ": "à¸—à¸³à¸‡à¸²à¸™",
  "å­¦ä¹ ": "à¹€à¸£à¸µà¸¢à¸™",
  "è¿åŠ¨": "à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸µà¸¬à¸²",
  "æ—…è¡Œ": "à¹€à¸—à¸µà¹ˆà¸¢à¸§",
  "èšä¼š": "à¸›à¸²à¸£à¹Œà¸•à¸µà¹‰",
  "çº¦ä¼š": "à¸™à¸±à¸”à¸«à¸™à¸¸à¹ˆà¸¡",
  "èŠ‚æ—¥": "à¹€à¸—à¸¨à¸à¸²à¸¥",
  "ç¤¼ç‰©": "à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸",
  "ç¤¼ç‰©æ–°å¹´": "à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸›à¸µà¹ƒà¸«à¸¡à¹ˆ",
  "ç¤¼ç‰©åœ£è¯": "à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸„à¸£à¸´à¸ªà¸•à¹Œà¸¡à¸²à¸ª",
  "å‡ç ": "Free Size",
  "å°ç ": "S",
  "ä¸­ç ": "M",
  "å¤§ç ": "L",
  "ç‰¹å¤§": "XL",
  "åŠ ç‰¹å¤§": "2XL",
  "å…¨æ–°": "à¹ƒà¸«à¸¡à¹ˆ",
  "99æ–°": "99% à¹ƒà¸«à¸¡à¹ˆ",
  "95æ–°": "95% à¹ƒà¸«à¸¡à¹ˆ",
  "æ­£å“è¡Œè´§": "à¸‚à¸­à¸‡à¹à¸—à¹‰",
  "åŸè£…": "à¸‚à¸­à¸‡à¹à¸—à¹‰",
  "é«˜ä»¿": "à¸à¹Šà¸­à¸›à¹€à¸à¸£à¸”",
  "ä¸“æŸœ": "à¸«à¹‰à¸²à¸‡",
};

function translateByKeyword(text) {
  let translated = text;
  const keywords = [];

  for (const [chinese, thai] of Object.entries(THAI_KEYWORD_MAP)) {
    if (text.includes(chinese)) {
      translated = translated.replace(new RegExp(chinese, 'g'), thai);
      if (!keywords.includes(thai)) {
        keywords.push(thai);
      }
    }
  }

  translated = translated.replace(/([ã€‚ï¼])$/, '$1 à¸„à¹ˆà¸°');
  translated = translated.replace(/[?]$/, 'à¸«à¸£à¸·à¸­?');

  return { translated, keywords };
}

// æµ‹è¯•ç”¨ä¾‹
const testCases = [
  {
    name: "æµ‹è¯•1ï¼šç®€å•æ ‡é¢˜ç¿»è¯‘",
    input: "é™æ—¶ä¼˜æƒ  å“è´¨ä¿è¯ å‘è´§å¿«",
    expected: "åº”è¯¥åŒ…å«å…³é”®è¯ç¿»è¯‘"
  },
  {
    name: "æµ‹è¯•2ï¼šæœè£…æè¿°",
    input: "æ˜¾ç˜¦ æ˜¾é«˜ èˆ’é€‚ é€æ°” é˜²æ°´ æ—¶å°š",
    expected: "åº”è¯¥ç¿»è¯‘æ‰€æœ‰ç‰¹ç‚¹è¯"
  },
  {
    name: "æµ‹è¯•3ï¼šä¿ƒé”€æ–‡æ¡ˆ",
    input: "ä¹°ä¸€é€ä¸€ é—ªè´­ åº“å­˜æœ‰é™ ç‚¹è´­ç‰©ç¯®",
    expected: "åº”è¯¥åŒ…å«CTAå…³é”®è¯"
  },
  {
    name: "æµ‹è¯•4ï¼šå®Œæ•´æ–‡æ¡ˆ",
    input: "æ­£å“ å’Œå›¾ä¸€è‡´ ä¸ƒå¤©æ— ç†ç”±é€€è´§ é™æ—¶ä¼˜æƒ  ç‰¹ä»· å‘è´§å¿«",
    expected: "åº”è¯¥ç¿»è¯‘ä¿¡ä»»è¯å’Œä»·å€¼è¯"
  }
];

console.log("ğŸ§ª å¼€å§‹æµ‹è¯•æ··åˆç¿»è¯‘åŠŸèƒ½...\n");

let passed = 0;
let failed = 0;

for (const testCase of testCases) {
  console.log(`ğŸ“‹ ${testCase.name}`);
  console.log(`   è¾“å…¥: ${testCase.input}`);

  const { translated, keywords } = translateByKeyword(testCase.input);

  console.log(`   è¾“å‡º: ${translated}`);
  console.log(`   å…³é”®è¯: ${keywords.join(', ')}`);

  // ç®€å•éªŒè¯ï¼šæ£€æŸ¥æ˜¯å¦ç¿»è¯‘äº†è‡³å°‘ä¸€ä¸ªè¯
  const hasTranslation = keywords.length > 0;
  if (hasTranslation) {
    console.log(`   âœ… é€šè¿‡ (${testCase.expected})\n`);
    passed++;
  } else {
    console.log(`   âŒ å¤±è´¥ (æœªæ‰¾åˆ°åŒ¹é…å…³é”®è¯)\n`);
    failed++;
  }
}

console.log("=".repeat(50));
console.log(`ğŸ“Š æµ‹è¯•ç»“æœ: ${passed}/${testCases.length} é€šè¿‡`);
console.log("=".repeat(50));

if (failed === 0) {
  console.log("\nğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼");
  process.exit(0);
} else {
  console.log("\nâš ï¸  æœ‰æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥å…³é”®è¯æ˜ å°„");
  process.exit(1);
}
