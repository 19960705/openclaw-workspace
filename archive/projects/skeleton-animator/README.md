# 🦴 骨骼动画 Web 工具

一个简洁的 3D 骨骼动画 Web 应用，支持 IK 控制、关键帧动画和视频导出。

## ✨ 功能特性

- 📂 **模型导入** - 支持 GLB/FBX 骨骼模型
- 🦴 **IK 控制** - 交互式调整骨骼关节角度
- 🎬 **动画播放** - 播放/暂停/重置动画
- ⚡ **关键帧** - 添加关键帧，支持旋转和位置记录
- 💾 **视频导出** - 录制动画并导出为 WebM/MP4
- 🖱️ **实时预览** - Three.js 3D 渲染
- 🎨 **骨骼高亮** - 点击选择骨骼，实时反馈

## 🚀 快速开始

### 安装依赖
```bash
cd skeleton-animator
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

打开浏览器访问: http://localhost:5173

## 📋 功能说明

### 导入模型
点击「导入模型」按钮，选择 GLB 或 FBX 文件。工具会自动：
- 解析骨骼结构
- 提取动画片段
- 设置默认材质
- 显示信息面板

### IK 控制
点击「骨骼控制」按钮（或快捷键 🦴）：
- **启用 IK**：显示目标控制点，点击拖动骨骼会自动跟随
- **禁用 IK**：恢复直接骨骼控制

### 动画播放
- ▶ 播放：从当前帧开始播放
- ⏸ 暂停：停止播放
- 🔄 重置：回到第一帧

### 关键帧系统
- 底部时间轴显示所有关键帧
- 点击缩略图跳转到对应帧
- **添加关键帧**：记录当前所有骨骼的旋转和位置
- **删除帧**：选中关键帧后按 Delete 键删除

### 视频导出
- 点击「导出视频」自动录制 10 秒动画
- 保存为 `skeleton-animation-[timestamp].webm` 格式
- 支持 H.264 编码

## 🛠️ 技术栈

| 技术 | 用途 |
|------|------|
| **Three.js** | 3D 渲染引擎、场景管理 |
| **Web Animation API** | 骨骼旋转、关键帧插值 |
| **MediaRecorder API** | Canvas 录制和视频导出 |
| **Vite** | 开发服务器、热更新 |
| **Tailwind CSS** | UI 样式 |

## 📝 开发计划

- [ ] 支持更多模型格式（OBJ、USD）
- [ ] 动画库（走路/挥手/点头）
- [ ] 自动关键帧插值
- [ ] 播放速度控制滑块
- [ ] 多骨骼同时编辑
- [ ] 导出为 FBX 格式
- [ ] 项目打包为桌面应用（Electron）

## 📄 许可证

MIT License - 自由使用、修改和分发
