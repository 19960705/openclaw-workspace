# OpenClaw 实战配置指南 — 学习笔记

> 来源：夙愿学长《半个月，烧了500美金，我终于把OpenClaw折腾成了真干活的AI员工》
> 链接：https://mp.weixin.qq.com/s/8zWvpNP_PfHwUlT4BdrKdw
> 学习时间：2026-02-25

---

## 核心理念

**不要把 OpenClaw 当 ChatGPT，要当成刚招的远程员工。**
- 人到了，但工位还没搭好
- 你得给它准备电脑、开通网络、配好工具、交代清楚你是谁

**"让 AI 自己配自己"** — 不要手动改配置，告诉 AI 你要什么结果，让它自己搞定过程。

---

## 一、基础设施

### 云服务器
- 推荐海外服务器（香港/韩国/新加坡），避免国内翻墙问题
- 内存至少 4G，推荐 8G-16G（跑浏览器需要 4G+）
- 国内云平台（阿里云/腾讯云/火山引擎）可以买海外地域

### 大模型选择
- 预算充足：Claude Opus 4.6（最强但贵）
- 性价比：GPT-5.3 Codex（ChatGPT Team 计划）
- 国产平替：GLM 5、Kimi K2.5、MiniMax M2.5
- 省钱策略：日常闲聊用便宜模型，复杂任务切强模型

### 💡 我们的对比
- 我们用 Mac Mini 本地部署，不用云服务器
- 默认模型 MiniMax-M2.5，复杂任务用 Claude Opus 4.6
- 已经实现了多模型切换策略

---

## 二、网络能力（四层架构）

### L0：搜索 + 抓取（80% 场景够用）
- **Brave Search**：内置，2000次/月免费
- **jina.ai Reader**：在 URL 前加 `https://r.jina.ai/` 前缀
  - 能绕过付费墙
  - 能抓取 X/Twitter 推文
  - 返回干净 Markdown
  - 免费，不需要 API key

### L1：无头浏览器（Headless Chrome）
- 处理需要 JS 渲染的页面
- 后台运行，无界面

### L2：有头浏览器 + DOM 操作
- 需要登录、填表单、点按钮的场景
- 云服务器需要装 Xvfb（虚拟桌面）
- `sudo apt-get install xvfb`

### L3：截图 + 视觉识别
- 图片中的信息（商品图、参数表、图表）
- 最慢但最全面的兜底方案

### 💡 我们的对比
- L0：Brave Search ✅ + web_fetch ✅（jina.ai 还没配，值得加！）
- L1：无头浏览器 ✅（profile: openclaw）
- L2：有头浏览器 ✅（即梦操作就是这个）
- L3：截图识别 ✅（browser screenshot）

### ⭐ 待实施：jina.ai Reader
- 简单好用，免费
- 特别适合抓取 X/Twitter 内容（我们现在用 Nitter）
- 可以写成 skill 集成

---

## 三、远程接管：KasmVNC

- 基于网页的远程桌面服务
- 通过浏览器远程连接服务器桌面
- 可以接管 AI 正在操作的浏览器（过验证码等）

### 💡 我们的对比
- 我们用 Mac Mini 本地，不需要远程桌面
- 但 KasmVNC 的思路值得参考：让用户能实时看到 AI 操作

---

## 四、文件同步

### 方案1：坚果云（简单但付费）
### 方案2：rclone 远程挂载（推荐，免费）
- SFTP 协议挂载，像 U 盘一样用
- Mac 用 `rclone nfsmount`，不需要 macFUSE
- 关键参数：
  - `--vfs-cache-mode full`（读写走本地缓存）
  - `--sftp-connections 8`（并发连接提速）
  - `--sftp-idle-timeout 0`（防断联）

### 方案3：File Browser（手机端）
- 开源，装在服务器上
- 手机浏览器访问文件

### 💡 我们的对比
- 本地 Mac Mini，文件直接在本地，不需要同步
- Obsidian Vault 用于知识管理

---

## 五、灵魂配置

### SOUL.md 最佳实践
- **不要写成"你是一个有用的AI助手"** — 跟直接用 ChatGPT 没区别
- 当同事，不当助手
- 写明：
  1. 你是谁（职业、兴趣）
  2. 关系定位（同事/朋友）
  3. 沟通风格（简洁/详细）
  4. 工作习惯（作息、工具）
  5. 禁忌事项

### 作者的 SOUL.md 亮点
- "有自己的立场，commit to a take" — 不要什么都"看情况"
- "敢拦着你" — 明显有坑就直接说
- "幽默感是允许的" — 该正经正经，该抖机灵抖机灵
- "禁止废话" — 不要"我很乐意帮助你"
- "禁止急于认同" — 什么都说好不是帮助，是讨好

### 入职培训
- 把知识库（Obsidian）整个复制给 AI
- 让它像新员工一样读一遍所有文档
- 读完后更新 SOUL/TOOLS/USER/MEMORY

### 💡 我们的对比
- SOUL.md ✅ 已配置（正经+可爱风格）
- IDENTITY.md ✅
- USER.md ✅
- Obsidian Vault ✅ 已连接
- 可以借鉴的："敢拦着你"、"禁止急于认同"

---

## 六、日常技巧

### 斜杠命令
- `/status` — 查看状态（卡住时第一步）
- `/stop` — 停止当前任务
- `/compact` — 压缩上下文
- `/new` — 新会话
- `/model <名字>` — 切换模型（省钱关键）
- `/think <级别>` — 调整思考深度

### 多群组分场景
- 工作群、写作群、闲聊群分开
- 每个群独立上下文，避免记忆混杂
- 回复质量更高

### steer 模式
- 让 AI 实时接收新消息
- 默认是排队模式，steer 模式可以中途改方向
```json
{
  "messages": {
    "queue": {
      "mode": "steer"
    }
  }
}
```

### 💡 我们的对比
- 斜杠命令 ✅ 已在用
- 多群组 ✅（话题群组 7 个 topic）
- steer 模式 — 值得检查是否已开启

---

## 七、踩坑经验

### AI 会把自己改死！
- AI 尝试"自我修复"修改配置文件
- 产生幻觉改错参数 → 重启 → 挂掉 → 死循环
- **解决**：装完后关掉自动重启功能
- **配置修改用 Claude Code**，不让 OpenClaw 自己改自己

### 💡 我们的经验
- 我们也遇到过类似问题（gateway token mismatch 6x）
- foundry_restart 需要谨慎使用
- 重要配置修改前先备份

---

## ⭐ 行动清单

### 立即可做
1. [ ] 配置 jina.ai Reader skill（免费，提升网页抓取能力）
2. [ ] 检查 steer 模式是否已开启
3. [ ] 借鉴 SOUL.md 中"敢拦着你"和"禁止急于认同"的理念

### 值得研究
4. [ ] KasmVNC 远程桌面（如果以后迁移到云服务器）
5. [ ] File Browser 手机端访问
6. [ ] 关闭 AI 自动重启功能，防止改死自己

---

_学习笔记 by Keonho 🐶_
